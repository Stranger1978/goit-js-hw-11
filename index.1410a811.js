const e="https://pixabay.com/api/",t="37838198-1a117cc0732e6b102a4c5cb6d",n="photo",s="horizontal",a="true";const o={searchForm:document.querySelector(".search-form"),photoGallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")};o.loadMoreBtn.classList.add("is-hidden");const r=new class{fetchArticles(){return fetch(`${e}?key=${t}&q=${this.queryValue}&image_type=${n}&orientation=${s}&safesearch=${a}&page=${this.page}&per_page=${this.per_page}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>(this.total_hits=e.totalHits,this.page+=1,e.hits))).catch(console.warn)}resetPage(){this.total_hits=0,this.page=1}get query(){return this.queryValue}set query(e){this.queryValue=e}constructor(){this.queryValue="",this.page=1,this.per_page=40,this.total_hits=0}};function i(e){const t=e.map((({webformatURL:e,largeImageURL:t,tags:n,likes:s,views:a,comments:o,downloads:r})=>`<div class="photo-card">\n    <a href="${t}">\n      <img class="photo-img" src="${e}" alt="${n}" loading="lazy" />\n    </a>\n    <div class="info">\n      <p class="info-item">\n        <b>Likes</b>\n        ${s}\n      </p>\n      <p class="info-item">\n        <b>Views</b>\n        ${a}\n      </p>\n      <p class="info-item">\n        <b>Comments</b>\n        ${o}\n      </p>\n      <p class="info-item">\n        <b>Downloads</b>\n        ${r} \n      </p>\n    </div>\n    </div>`)).join("");o.photoGallery.insertAdjacentHTML("beforeend",t)}o.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),function(){o.photoGallery.innerHTML=""}(),o.loadMoreBtn.classList.add("is-hidden"),r.query=e.currentTarget.elements.searchQuery.value,""===r.query)return alert("Please enter valid data!");r.resetPage(),r.fetchArticles().then((e=>{console.log(r),i(e),r.per_page<r.total_hits&&o.loadMoreBtn.classList.remove("is-hidden")}))})),o.loadMoreBtn.addEventListener("click",(function(){r.fetchArticles().then(i)}));
//# sourceMappingURL=index.1410a811.js.map
